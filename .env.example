# Root environment template used by docker compose and local hybrid workflows.
# Required by env contract: DATABASE_URL, NEXTAUTH_SECRET, CHAT_ENDPOINT

# Web runtime mode (development for local runs).
NODE_ENV=development

# NextAuth signing secret used by the web app auth routes.
NEXTAUTH_SECRET=replace-with-random-secret

# Public base URL for the web app.
NEXTAUTH_URL=http://localhost:3000

# Web app database URL (host-local form for non-containerized web commands).
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/contoso-db?schema=public

# Web -> chat service endpoint used by /api/chat/service.
CHAT_ENDPOINT=http://localhost:8000/api/create_response

# Web -> chat auth header value; "dummy" is fine for local/dev.
CHAT_API_KEY=dummy

# Optional endpoint for visual chat route (/api/chat/visual).
VISUAL_ENDPOINT=

# Optional key for visual chat route.
VISUAL_KEY=

# Optional Azure AI Search endpoint for grounded chat route.
CONTOSO_SEARCH_ENDPOINT=

# Optional Azure AI Search key for grounded chat route.
CONTOSO_SEARCH_KEY=

# Optional Azure AI Services endpoint for grounded chat route.
CONTOSO_AISERVICES_ENDPOINT=

# Optional Azure AI Services key for grounded chat route.
CONTOSO_AISERVICES_KEY=

# Chat service runtime environment label.
ENVIRONMENT=development

# Allowed CORS origins for chat service (comma-separated).
ALLOWED_ORIGINS=http://localhost:3000

# Chat model provider: local or gcp.
LLM_PROVIDER=local

# Docker build profile for chat image: 0=core deps only, 1=install local deps (chromadb/torch/etc).
# Set to 1 when LLM_PROVIDER=local in docker-compose workflows.
CHAT_INSTALL_LOCAL_STACK=0

# GCP project id (required when LLM_PROVIDER=gcp; keep local for local mode).
PROJECT_ID=local

# GCP region for model APIs and evaluators.
REGION=us-central1

# Gemini model id when using the gcp provider.
GEMINI_MODEL_NAME=gemini-2.5-flash

# Local model id when using the local provider (Ollama).
LOCAL_MODEL_NAME=gemma3:12b

# Ollama base URL reachable by the service.
OLLAMA_BASE_URL=http://localhost:11434

# Vector store path for local retrieval.
CHROMA_DB_PATH=./services/chat/data/chroma_db

# Optional Firestore database id for gcp retrieval flows.
FIRESTORE_DATABASE=contoso-db

# Optional Discovery Engine app id (gcp retrieval).
DISCOVERY_ENGINE_APP_ID=

# Optional Discovery Engine datastore id (required for grounded gcp search path).
DISCOVERY_ENGINE_DATASTORE_ID=

# Optional build-only switch for Next.js API routes that hit DB during image build.
# NEXT_BUILD_SKIP_DB=1
